# git commit 취소 & github commit 삭제하는 방법
크게 push 전과 후로 나뉜다.

## 1. 아직 깃허브로 Push를 하지 않은 경우
### (1) 최신 커밋 취소하기
이 명령어를 쓰면 최신 커밋을 취소하고 이전의 커밋으로 돌아갈 수 있다.  
  
**<커밋 취소 시 어느 시점으로 돌아갈지 정하기>**
하나의 커밋을 만들 때는 ①변경사항을 만들고 ②add를 하고 ③commit을 하는 단계를 거친다.  
그렇다면 커밋을 취소하는 것은 이 중 어디까지 취소를 하는 것일까? 직접 정해줄 수 있다!  

1. ①번까지 모두 취소: 커밋을 취소하고, 모든 변경사항을 다 없애버린다. (완전한 초기화)
```
$ git reset --hard HEAD~
```
2. ②번까지만 취소: 커밋을 취소하고, add한 것도 없던 일로 한다.
```
$ git reset HEAD~
```
3. ③번만 취소: 커밋만 취소하고, add한 파일들은 그대로 둔다. (딱 커밋만 취소하기)
```
$ git reset --soft HEAD~
```

### (2) 여러 개의 커밋 취소하기
여러개 커밋 취소는 같이 개수를 명시해주면 된다.
```
//최신 2개의 커밋을 취소
$ git reset HEAD~2
```

### 커밋 목록 확인하기 
커밋이 잘 취소되었나 궁금하다면, 커밋 목록을 확인해 볼 수도 있다.  
취소 전후로 `git log`를 입력하면 그동안의 커밋 내역이 주르륵 뜰 것이다.  
취소한 뒤에는 최신 것이 사라져 있을 것이다.  
참고로 엔터 등 아무 키나 누르면 더 옛날 내역도 나온다.  
창을 빠져나오려면 "q"키를 누르면 된다.  


## 2. 이미 깃허브로 Push를 한 경우
로컬 저장소(내 컴퓨터)에서만 커밋을 삭제하는게 아니라   
이미 깃허브 저장소에 푸시해버린 커밋을 취소하고 싶다면?  

### 방법1. 커밋 기록을 아예 지우는 방식
위 1번의 명령어로 로컬 저장소에서 커밋을 취소한 뒤에, 이를 강제로 깃허브에 푸시하는 방법이다.  
그럼 깃허브에도 새 커밋 히스토리가 반영된다.  
  
커밋을 취소한 뒤에 아래 명령어를 입력하자.   
참고로 깃허브에 이미 심어진 잔디에는 영향이 없는 것 같다.  
```
//원격 저장소에 반영하기
$ git push -f origin main
```

### 방법2. 취소했다는 기록을 남기고 취소하는 방식
첫 번째 방법이 최신 커밋을 아예 없던 일로 만들어 버린다면,  
두 번째 방법은 커밋 취소했음! 하는 기록을 남기고 취소하는 방식이다.  
즉 최신 커밋에 해당하는 내용은 이전으로 되돌리되, 커밋 내역은 건드리지 않고, 취소한 내용으로 새로운 커밋을 만든다.  
만약 팀 프로젝트를 하고 있다면 이렇게 기록을 남겨야 팀원들이 혼란이 없을 것이다.  
```
$ git revert HEAD
```
git revert를 했다가 취소하려면? 또 git revert를 하면 된다.
   
   
    
reference. 
https://shortcuts.tistory.com/9
